{"ast":null,"code":"import { Router } from '@angular/router';\nimport { ApiService } from '../../services/api.service';\nimport { ToastService } from '../../services/toast.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"../../services/toast.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction PatientCreateComponent_div_8_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const e_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(e_r12.message || e_r12);\n  }\n}\nfunction PatientCreateComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"ul\", 57);\n    i0.ɵɵtemplate(2, PatientCreateComponent_div_8_li_2_Template, 2, 1, \"li\", 58);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.serverErrors);\n  }\n}\nfunction PatientCreateComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.fieldErrors.name);\n  }\n}\nfunction PatientCreateComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.fieldErrors.phone);\n  }\n}\nfunction PatientCreateComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.fieldErrors.code);\n  }\n}\nfunction PatientCreateComponent_ng_container_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 60);\n    i0.ɵɵtext(2, \"Loading diets...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction PatientCreateComponent_ng_container_64_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 64);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", d_r14.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(d_r14.name);\n  }\n}\nfunction PatientCreateComponent_ng_container_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"select\", 61);\n    i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_ng_container_64_Template_select_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.model.diet = $event);\n    });\n    i0.ɵɵelementStart(2, \"option\", 62);\n    i0.ɵɵtext(3, \"-- select --\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, PatientCreateComponent_ng_container_64_option_4_Template, 2, 2, \"option\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.model.diet);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngValue\", undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.dietOptions);\n  }\n}\nfunction PatientCreateComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function PatientCreateComponent_div_65_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.loadDiets());\n    });\n    i0.ɵɵtext(3, \"Retry\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Failed to load diets: \", ctx_r6.dietLoadError, \" \");\n  }\n}\nfunction PatientCreateComponent_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r7.fieldErrors.diet);\n  }\n}\nfunction PatientCreateComponent_div_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r8.fieldErrors.age);\n  }\n}\nfunction PatientCreateComponent_div_108_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.fieldErrors.totalBill);\n  }\n}\nfunction PatientCreateComponent_div_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r10.fieldErrors.dailyBill);\n  }\n}\nexport let PatientCreateComponent = /*#__PURE__*/(() => {\n  class PatientCreateComponent {\n    constructor(api, toast, router) {\n      this.api = api;\n      this.toast = toast;\n      this.router = router;\n      this.model = {\n        name: '',\n        phone: '',\n        inDate: '',\n        inTime: '',\n        dischargeDate: '',\n        dischargeTime: '',\n        roomType: 'Ward',\n        bed: '',\n        diet: undefined,\n        dietNote: '',\n        status: 'in_patient',\n        transactionType: 'cash',\n        age: null,\n        sex: 'male',\n        totalBill: 0,\n        dailyBill: 0,\n        recurringDetails: '',\n        feedback: '',\n        allergies: [],\n        notes: ''\n      };\n      this.serverErrors = [];\n      this.fieldErrors = {};\n      this.dietOptions = [];\n      this.dietLoadError = null;\n      this.dietsLoading = false;\n      this.saving = false;\n    }\n    ngOnInit() {\n      this.loadDiets();\n    }\n    loadDiets() {\n      this.dietsLoading = true;\n      this.dietLoadError = null;\n      this.api.get('/diets').subscribe(res => {\n        this.dietOptions = Array.isArray(res) ? res : [];\n        this.dietsLoading = false;\n      }, err => {\n        console.error('failed to load diets', err);\n        this.dietOptions = [];\n        this.dietsLoading = false;\n        this.dietLoadError = err?.error?.message || err?.message || 'Failed to load diets';\n      });\n    }\n    save(e) {\n      e.preventDefault();\n      this.serverErrors = [];\n      this.fieldErrors = {};\n      if (!this.clientValidate()) return;\n      // attempt to parse recurringDetails if it's JSON-like\n      try {\n        if (this.model.recurringDetails && typeof this.model.recurringDetails === 'string') {\n          try {\n            this.model.recurringDetails = JSON.parse(this.model.recurringDetails);\n          } catch (e) {/* keep string */}\n        }\n      } catch (e) {}\n      this.saving = true;\n      this.api.post('/patients', this.model).subscribe(res => {\n        this.toast.success('Patient created');\n        this.router.navigate(['/patients']);\n        this.saving = false;\n      }, err => {\n        if (err?.status === 400 && err.error?.errors) {\n          // expect structured errors { field?, message }\n          this.serverErrors = Array.isArray(err.error.errors) ? err.error.errors : [{\n            message: String(err.error.errors)\n          }];\n          this.mapStructuredErrors(this.serverErrors);\n        } else {\n          this.toast.error('Create failed');\n          console.error(err);\n        }\n        this.saving = false;\n      });\n    }\n    clientValidate() {\n      const fe = {};\n      if (!this.model.name || String(this.model.name).trim().length === 0) fe.name = 'Name is required';\n      if (this.model.phone) {\n        const phone = String(this.model.phone).trim();\n        const phoneRe = /^[0-9+()\\-\\s]{5,20}$/;\n        if (!phoneRe.test(phone)) fe.phone = 'Phone format is invalid';\n      }\n      if (this.model.inTime) {\n        const timeRe = /^([01]\\d|2[0-3]):([0-5]\\d)$/;\n        if (!timeRe.test(this.model.inTime)) fe.inTime = 'Time must be HH:MM';\n      }\n      if (this.model.dischargeTime) {\n        const timeRe = /^([01]\\d|2[0-3]):([0-5]\\d)$/;\n        if (!timeRe.test(this.model.dischargeTime)) fe.dischargeTime = 'Time must be HH:MM';\n      }\n      if (this.model.age !== null && this.model.age !== undefined && this.model.age !== '') {\n        const age = Number(this.model.age);\n        if (Number.isNaN(age) || age < 0 || age > 150) fe.age = 'Age is invalid';\n      }\n      if (this.model.totalBill !== undefined) {\n        const tb = Number(this.model.totalBill);\n        if (Number.isNaN(tb) || tb < 0) fe.totalBill = 'Total bill is invalid';\n      }\n      if (this.model.dailyBill !== undefined) {\n        const db = Number(this.model.dailyBill);\n        if (Number.isNaN(db) || db < 0) fe.dailyBill = 'Daily bill is invalid';\n      }\n      if (this.model.diet) {\n        const allowed = this.dietOptions.map(d => d.name);\n        if (!allowed.includes(this.model.diet)) fe.diet = 'Diet is invalid';\n      }\n      this.fieldErrors = fe;\n      return Object.keys(fe).length === 0;\n    }\n    mapStructuredErrors(errors) {\n      const fe = {};\n      for (const err of errors) {\n        if (err.field) fe[err.field] = err.message;else if (!fe._general) fe._general = err.message;\n      }\n      this.fieldErrors = {\n        ...this.fieldErrors,\n        ...fe\n      };\n    }\n    back() {\n      this.router.navigate(['/patients']);\n    }\n    static {\n      this.ɵfac = function PatientCreateComponent_Factory(t) {\n        return new (t || PatientCreateComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PatientCreateComponent,\n        selectors: [[\"app-patient-create\"]],\n        decls: 127,\n        vars: 33,\n        consts: [[1, \"login-hero\"], [1, \"me-auto\"], [1, \"lead\"], [1, \"card\", \"login-card\"], [1, \"card-body\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [3, \"submit\"], [1, \"row\", \"g-3\"], [1, \"col-12\", \"col-md-6\"], [1, \"form-label\"], [\"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"invalid-feedback d-block\", 4, \"ngIf\"], [\"name\", \"phone\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"code\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-6\", \"col-md-3\"], [\"type\", \"date\", \"name\", \"inDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"time\", \"name\", \"inTime\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"dischargeDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"time\", \"name\", \"dischargeTime\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"roomType\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Ward\"], [\"value\", \"ICU\"], [\"value\", \"Cabin\"], [\"value\", \"Other\"], [\"name\", \"bed\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-12\"], [1, \"row\", \"g-2\", \"align-items-start\"], [1, \"col-12\", \"col-sm-5\", \"col-md-4\", \"col-lg-3\"], [4, \"ngIf\"], [\"class\", \"small text-danger mt-1\", 4, \"ngIf\"], [1, \"col-12\", \"col-sm-7\", \"col-md-8\", \"col-lg-9\"], [\"rows\", \"2\", \"placeholder\", \"Diet note (optional)\", \"name\", \"dietNote\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-6\", \"col-md-4\"], [\"name\", \"status\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"in_patient\"], [\"value\", \"discharged\"], [\"value\", \"outpatient\"], [\"name\", \"transactionType\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"cash\"], [\"value\", \"card\"], [\"value\", \"insurance\"], [1, \"col-4\", \"col-md-2\"], [\"type\", \"number\", \"name\", \"age\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"sex\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"male\"], [\"value\", \"female\"], [\"value\", \"other\"], [1, \"col-4\", \"col-md-4\"], [\"type\", \"number\", \"name\", \"totalBill\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"dailyBill\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-6\", \"col-md-8\"], [\"name\", \"recurringDetails\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"2\", \"name\", \"feedback\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-12\", \"text-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"me-2\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"alert\", \"alert-danger\"], [1, \"mb-0\"], [4, \"ngFor\", \"ngForOf\"], [1, \"invalid-feedback\", \"d-block\"], [1, \"form-control\"], [\"name\", \"diet\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"small\", \"text-danger\", \"mt-1\"], [1, \"btn\", \"btn-link\", \"btn-sm\", \"p-0\", 3, \"click\"]],\n        template: function PatientCreateComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"Create Patient\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\", 2);\n            i0.ɵɵtext(5, \"Enter patient details\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4);\n            i0.ɵɵtemplate(8, PatientCreateComponent_div_8_Template, 3, 1, \"div\", 5);\n            i0.ɵɵelementStart(9, \"form\", 6);\n            i0.ɵɵlistener(\"submit\", function PatientCreateComponent_Template_form_submit_9_listener($event) {\n              return ctx.save($event);\n            });\n            i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"label\", 9);\n            i0.ɵɵtext(13, \"Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 10);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_14_listener($event) {\n              return ctx.model.name = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(15, PatientCreateComponent_div_15_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 8)(17, \"label\", 9);\n            i0.ɵɵtext(18, \"Phone\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_19_listener($event) {\n              return ctx.model.phone = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(20, PatientCreateComponent_div_20_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"div\", 8)(22, \"label\", 9);\n            i0.ɵɵtext(23, \"Patient Code (optional)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"input\", 13);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_24_listener($event) {\n              return ctx.model.code = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(25, PatientCreateComponent_div_25_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\", 14)(27, \"label\", 9);\n            i0.ɵɵtext(28, \"In Date\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"input\", 15);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_29_listener($event) {\n              return ctx.model.inDate = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(30, \"div\", 14)(31, \"label\", 9);\n            i0.ɵɵtext(32, \"In Time\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(33, \"input\", 16);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_33_listener($event) {\n              return ctx.model.inTime = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(34, \"div\", 14)(35, \"label\", 9);\n            i0.ɵɵtext(36, \"Discharge Date\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"input\", 17);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_37_listener($event) {\n              return ctx.model.dischargeDate = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"div\", 14)(39, \"label\", 9);\n            i0.ɵɵtext(40, \"Discharge Time\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"input\", 18);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_41_listener($event) {\n              return ctx.model.dischargeTime = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(42, \"div\", 14)(43, \"label\", 9);\n            i0.ɵɵtext(44, \"Room Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"select\", 19);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_select_ngModelChange_45_listener($event) {\n              return ctx.model.roomType = $event;\n            });\n            i0.ɵɵelementStart(46, \"option\", 20);\n            i0.ɵɵtext(47, \"Ward\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(48, \"option\", 21);\n            i0.ɵɵtext(49, \"ICU\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(50, \"option\", 22);\n            i0.ɵɵtext(51, \"Cabin\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(52, \"option\", 23);\n            i0.ɵɵtext(53, \"Other\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(54, \"div\", 14)(55, \"label\", 9);\n            i0.ɵɵtext(56, \"Bed No\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(57, \"input\", 24);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_57_listener($event) {\n              return ctx.model.bed = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(58, \"div\", 25)(59, \"label\", 9);\n            i0.ɵɵtext(60, \"Diet\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(61, \"div\", 26)(62, \"div\", 27);\n            i0.ɵɵtemplate(63, PatientCreateComponent_ng_container_63_Template, 3, 0, \"ng-container\", 28);\n            i0.ɵɵtemplate(64, PatientCreateComponent_ng_container_64_Template, 5, 3, \"ng-container\", 28);\n            i0.ɵɵtemplate(65, PatientCreateComponent_div_65_Template, 4, 1, \"div\", 29);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"div\", 30)(67, \"textarea\", 31);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_textarea_ngModelChange_67_listener($event) {\n              return ctx.model.dietNote = $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(68, PatientCreateComponent_div_68_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(69, \"div\", 32)(70, \"label\", 9);\n            i0.ɵɵtext(71, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(72, \"select\", 33);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_select_ngModelChange_72_listener($event) {\n              return ctx.model.status = $event;\n            });\n            i0.ɵɵelementStart(73, \"option\", 34);\n            i0.ɵɵtext(74, \"In Patient\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(75, \"option\", 35);\n            i0.ɵɵtext(76, \"Discharged\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(77, \"option\", 36);\n            i0.ɵɵtext(78, \"Outpatient\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(79, \"div\", 14)(80, \"label\", 9);\n            i0.ɵɵtext(81, \"Transaction Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(82, \"select\", 37);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_select_ngModelChange_82_listener($event) {\n              return ctx.model.transactionType = $event;\n            });\n            i0.ɵɵelementStart(83, \"option\", 38);\n            i0.ɵɵtext(84, \"Cash\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(85, \"option\", 39);\n            i0.ɵɵtext(86, \"Card\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(87, \"option\", 40);\n            i0.ɵɵtext(88, \"Insurance\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(89, \"div\", 41)(90, \"label\", 9);\n            i0.ɵɵtext(91, \"Age\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(92, \"input\", 42);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_92_listener($event) {\n              return ctx.model.age = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(93, PatientCreateComponent_div_93_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(94, \"div\", 14)(95, \"label\", 9);\n            i0.ɵɵtext(96, \"Sex\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(97, \"select\", 43);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_select_ngModelChange_97_listener($event) {\n              return ctx.model.sex = $event;\n            });\n            i0.ɵɵelementStart(98, \"option\", 44);\n            i0.ɵɵtext(99, \"Male\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(100, \"option\", 45);\n            i0.ɵɵtext(101, \"Female\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(102, \"option\", 46);\n            i0.ɵɵtext(103, \"Other\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(104, \"div\", 47)(105, \"label\", 9);\n            i0.ɵɵtext(106, \"Total Bill\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(107, \"input\", 48);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_107_listener($event) {\n              return ctx.model.totalBill = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(108, PatientCreateComponent_div_108_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(109, \"div\", 32)(110, \"label\", 9);\n            i0.ɵɵtext(111, \"Daily Bill\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(112, \"input\", 49);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_112_listener($event) {\n              return ctx.model.dailyBill = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(113, PatientCreateComponent_div_113_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(114, \"div\", 50)(115, \"label\", 9);\n            i0.ɵɵtext(116, \"Recurring Details (JSON)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(117, \"input\", 51);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_input_ngModelChange_117_listener($event) {\n              return ctx.model.recurringDetails = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(118, \"div\", 25)(119, \"label\", 9);\n            i0.ɵɵtext(120, \"Feedback\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(121, \"textarea\", 52);\n            i0.ɵɵlistener(\"ngModelChange\", function PatientCreateComponent_Template_textarea_ngModelChange_121_listener($event) {\n              return ctx.model.feedback = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(122, \"div\", 53)(123, \"button\", 54);\n            i0.ɵɵlistener(\"click\", function PatientCreateComponent_Template_button_click_123_listener() {\n              return ctx.back();\n            });\n            i0.ɵɵtext(124, \"Cancel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(125, \"button\", 55);\n            i0.ɵɵtext(126, \"Create Patient\");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.serverErrors == null ? null : ctx.serverErrors.length);\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"is-invalid\", ctx.fieldErrors == null ? null : ctx.fieldErrors.name);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.name);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.name);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ctx.fieldErrors == null ? null : ctx.fieldErrors.phone);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.phone);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.phone);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.code);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.code);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.inDate);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.inTime);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.dischargeDate);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.dischargeTime);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.roomType);\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.bed);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.dietsLoading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.dietsLoading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.dietLoadError);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.dietNote);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.diet);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.status);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.transactionType);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.age);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.age);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.sex);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.totalBill);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.totalBill);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.dailyBill);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.fieldErrors == null ? null : ctx.fieldErrors.dailyBill);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.recurringDetails);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.feedback);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n        encapsulation: 2\n      });\n    }\n  }\n  return PatientCreateComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}