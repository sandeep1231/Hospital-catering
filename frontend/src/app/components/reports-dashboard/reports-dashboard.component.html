<div class="container py-3">
  <h4>Reports</h4>

  <div class="card mb-3">
    <div class="card-body">
      <h6 class="card-title">Business Summary (Date Range)</h6>
      <div class="row g-2 align-items-end">
        <div class="col-auto">
          <label class="form-label">From</label>
          <input class="form-control form-control-sm" type="date" [(ngModel)]="rangeFrom" />
        </div>
        <div class="col-auto">
          <label class="form-label">To</label>
          <input class="form-control form-control-sm" type="date" [(ngModel)]="rangeTo" />
        </div>
        <div class="col-auto">
          <button class="btn btn-sm btn-outline-primary" (click)="loadBusinessRange()" [disabled]="businessLoading || !rangeFrom || !rangeTo">Run Range</button>
        </div>
        <div class="col-auto">
          <button class="btn btn-sm btn-outline-secondary" (click)="printBusinessRange()" [disabled]="!businessRows.length">Print</button>
        </div>
      </div>

      <div class="table-responsive mt-3" *ngIf="businessRows.length">
        <table class="table table-sm table-bordered" id="businessRangeTable">
          <thead>
            <tr>
              <th>In Date</th>
              <th>Discharge Date</th>
              <th>Patient Name</th>
              <th>Phone</th>
              <th class="text-end">Bill Amount</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let r of businessRows">
              <td>{{ r.inDate }}</td>
              <td>{{ r.dischargeDate }}</td>
              <td>{{ r.name }}</td>
              <td>{{ r.phone }}</td>
              <td class="text-end">{{ r.billAmount | number:'1.2-2' }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <th colspan="4" class="text-end">Total</th>
              <th class="text-end">{{ businessTotal | number:'1.2-2' }}</th>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>
